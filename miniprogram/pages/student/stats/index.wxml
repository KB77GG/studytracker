<view class="container">
  <!-- å¤´éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="header">
    <view class="user-info">
      <view class="avatar">S</view>
      <view class="info-text">
        <text class="username">æˆ‘çš„å­¦ä¹ æ¡£æ¡ˆ</text>
        <text class="level">Lv.{{stats.level || 1}} å­¦ä¹ è€…</text>
      </view>
    </view>
  </view>

  <!-- æ ¸å¿ƒæ•°æ®å¡ç‰‡ -->
  <view class="stats-grid">
    <view class="stat-card fire">
      <view class="icon">ğŸ”¥</view>
      <view class="value">{{stats.streak || 0}}</view>
      <view class="label">è¿ç»­æ‰“å¡(å¤©)</view>
    </view>
    <view class="stat-card time">
      <view class="icon">â±ï¸</view>
      <view class="value">{{stats.total_hours || 0}}</view>
      <view class="label">ç´¯è®¡å­¦ä¹ (å°æ—¶)</view>
    </view>
  </view>

  <!-- æœ¬å‘¨è¶‹åŠ¿ -->
  <view class="section">
    <view class="section-title">ğŸ“Š æœ¬å‘¨å­¦ä¹ è¶‹åŠ¿</view>
    <view class="chart-container">
      <view class="bar-group" wx:for="{{stats.weekly_activity}}" wx:key="date">
        <view class="bar-wrapper">
          <view class="bar" style="height: {{item.count * 20 + 10}}rpx; max-height: 200rpx;"></view>
        </view>
        <text class="day-label">{{item.day_label}}</text>
      </view>
    </view>
  </view>

  <!-- å‹‹ç« å¢™ -->
  <view class="section">
    <view class="section-title">ğŸ† æˆ‘çš„å‹‹ç« </view>
    <view class="badges-grid">
      <view class="badge-item" wx:for="{{stats.badges}}" wx:key="id">
        <view class="badge-icon">{{item.icon}}</view>
        <text class="badge-name">{{item.name}}</text>
        <text class="badge-desc">{{item.desc}}</text>
      </view>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section">
    <button class="btn-logout" bindtap="handleLogout">é€€å‡ºç™»å½•</button>
  </view>
</view>
