<view class="container">
  <view class="logo-area">
    <image class="logo" src="/static/logo.jpg" mode="aspectFit"></image>
    <text class="title">Study Tracker</text>
  </view>

  <view class="login-area" wx:if="{{!hasToken}}">
    <button class="btn-primary" bindtap="handleLogin">å¾®ä¿¡ä¸€é”®ç™»å½•</button>
  </view>

  <view class="role-select-area" wx:if="{{hasToken && isGuest}}">
    <text class="subtitle">è¯·é€‰æ‹©æ‚¨çš„èº«ä»½</text>
    <view class="role-cards">
      <view class="role-card" bindtap="selectRole" data-role="student">
        <text class="role-icon">ğŸ“</text>
        <text class="role-name">æˆ‘æ˜¯å­¦ç”Ÿ</text>
      </view>
      <view class="role-card" bindtap="selectRole" data-role="parent">
        <text class="role-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</text>
        <text class="role-name">æˆ‘æ˜¯å®¶é•¿</text>
      </view>
    </view>
  </view>

  <!-- ç»‘å®šè¡¨å• -->
  <view class="bind-form" wx:if="{{showBindForm}}">
    <text class="subtitle">ç»‘å®š{{targetRole === 'student' ? 'å­¦ç”Ÿ' : 'å®¶é•¿'}}ä¿¡æ¯</text>
    
    <input class="input" placeholder="è¯·è¾“å…¥å§“å" model:value="{{bindName}}" />
    <input wx:if="{{targetRole === 'parent'}}" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" model:value="{{bindPhone}}" />
    
    <view class="btn-group">
      <button class="btn-secondary" bindtap="cancelBind">å–æ¶ˆ</button>
      <button class="btn-primary" bindtap="confirmBind">ç¡®è®¤ç»‘å®š</button>
    </view>
  </view>
</view>
